<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de livro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
<div class="container mt-5">
    <h2 class="mb-4">Cadastro de Novo Livro</h2>

    <div th:include="fragments/alerts :: alert(${message}, ${alert})"></div>

    <form th:action="@{/books/new}" th:object="${book}" method="post">
        <div class="mb-3">
            <label for="title" class="form-label">Título</label>
            <input type="text" class="form-control" id="title" th:field="*{title}"
                   placeholder="Digite o título do livro"
                   th:classappend="${#fields.hasErrors('title') ? 'is-invalid' : ''}">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Título inválido
            </div>
        </div>
        <div class="mb-3">
            <label for="author" class="form-label">Autor</label>
            <input type="text" class="form-control" id="author" th:field="*{author}"
                   placeholder="Digite o nome do autor"
                   th:classappend="${#fields.hasErrors('author') ? 'is-invalid' : ''}">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('author')}" th:errors="*{author}">Autor inválido
            </div>
        </div>
        <div class="mb-3">
            <label for="genre" class="form-label">Gênero</label>
            <input type="text" class="form-control" id="genre" th:field="*{gender}"
                   placeholder="Digite o gênero do livro"
                   th:classappend="${#fields.hasErrors('gender') ? 'is-invalid' : ''}">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('gender')}" th:errors="*{gender}">Gênero inválido
            </div>
        </div>
        <div class="mb-3">
            <label for="publishDate" class="form-label">Data de Publicação</label>
            <input type="date" class="form-control" id="publishDate" th:field="*{publicationDate}"
                   th:classappend="${#fields.hasErrors('publicationDate') ? 'is-invalid' : ''}">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('publicationDate')}"
                 th:errors="*{publicationDate}">Data de publicação inválida
            </div>
        </div>
        <div class="mb-3">
            <label for="isbn" class="form-label">ISBN</label>
            <input type="text" class="form-control" id="isbn" th:field="*{isbn}" placeholder="Digite o ISBN do livro"
                   th:classappend="${#fields.hasErrors('isbn') ? 'is-invalid' : ''}">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('isbn')}" th:errors="*{isbn}">ISBN inválido</div>
        </div>
        <div class="mb-3">
            <label for="description" class="form-label">Descrição</label>
            <textarea class="form-control" id="description" th:field="*{description}" rows="4"
                      placeholder="Digite uma breve descrição do livro"
                      th:classappend="${#fields.hasErrors('description') ? 'is-invalid' : ''}"></textarea>
            <div class="invalid-feedback" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">
                Descrição inválida
            </div>
        </div>
        <div class="mb-3">
            <label for="quantity" class="form-label">Quantidade disponível</label>
            <input type="number" class="form-control" id="quantity" th:field="*{stock.quantity}"
                   placeholder="Digite a quantidade disponível"
                   th:classappend="${#fields.hasErrors('stock.quantity') ? 'is-invalid' : ''}">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('stock.quantity')}" th:errors="*{stock.quantity}">
                Quantidade inválida
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Cadastrar</button>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
<script th:src="@{/js/masks.js}"></script>

</body>
</html>
